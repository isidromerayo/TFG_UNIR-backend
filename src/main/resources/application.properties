# ===============================
# = DATA SOURCE
# ===============================
# Set here configurations for the database connection
# Usa variable de entorno si está disponible, sino localhost para desarrollo local
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mariadb://localhost:3306/tfg_unir}
spring.datasource.username=user_tfg
spring.datasource.password=tfg_un1r_PWD
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

# Connection pool configuration
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000

# ===============================
# = JPA / HIBERNATE
# ===============================
# Show or not log for each sql query
spring.jpa.show-sql=true
# Hibernate ddl auto (create, create-drop, update): with "create-drop" the database
# schema will be automatically created afresh for every start of application
spring.jpa.hibernate.ddl-auto=update
# Note: Hibernate 6.6+ automatically detects the dialect, no need to specify it explicitly
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect

# Jackson configuration
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.default-property-inclusion=non_null
##
# API
##
spring.data.rest.basePath=/api
##
# Spring security 
##
#spring.security.user.name=
#spring.security.user.password=

# ===============================
# = JWT CONFIGURATION
# ===============================
# IMPORTANTE: En producción, usar variable de entorno JWT_SECRET
# Generar con: openssl rand -base64 64
jwt.secret=${JWT_SECRET:813cef5f-3459-4618-87a6-a69e2a1296d4_mySecretKey_mySecretKey_CHANGE_IN_PRODUCTION}
# Expiración del token en milisegundos (por defecto: 1 hora)
jwt.expiration=3600000
##
# Settings to print hibernate statements
##
### Logs the SQL queries
logging.level.org.hibernate.SQL=DEBUG
### Logs the prepared statement parameters
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.orm.jdbc.bind=TRACE
### To make the printing SQL beautify
#spring.jpa.properties.hibernate.format_sql=true

# ===============================
# = APPLICATION INFO
# ===============================
spring.application.name=TFG UNIR Backend
info.app.name=TFG UNIR Backend
info.app.description=Backend para TFG en UNIR usando Spring Boot con BCrypt
info.app.version=@project.version@
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@

# ===============================
# = ACTUATOR
# ===============================
# Exponer endpoints de actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.info.git.mode=full
management.info.env.enabled=true
management.info.java.enabled=true
management.info.os.enabled=true
